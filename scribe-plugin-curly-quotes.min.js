define("lodash-amd/modern/internal/arrayCopy",[],function(){function n(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}return n}),define("lodash-amd/modern/internal/isLength",[],function(){function n(n){return"number"==typeof n&&n>-1&&n%1==0&&e>=n}var e=Math.pow(2,53)-1;return n}),define("lodash-amd/modern/internal/baseValues",[],function(){function n(n,e){for(var t=-1,r=e.length,o=Array(r);++t<r;)o[t]=n[e[t]];return o}return n}),define("lodash-amd/modern/internal/baseToString",[],function(){function n(n){return"string"==typeof n?n:null==n?"":n+""}return n}),define("lodash-amd/modern/string/escapeRegExp",["../internal/baseToString"],function(n){function e(e){return e=n(e),e&&r.test(e)?e.replace(t,"\\$&"):e}var t=/[.*+?^${}()|[\]\/\\]/g,r=RegExp(t.source);return e}),define("lodash-amd/modern/internal/isObjectLike",[],function(){function n(n){return n&&"object"==typeof n||!1}return n}),define("lodash-amd/modern/lang/isNative",["../string/escapeRegExp","../internal/isObjectLike"],function(n,e){function t(n){return null==n?!1:u.call(n)==r?l.test(a.call(n)):e(n)&&o.test(n)||!1}var r="[object Function]",o=/^\[object .+?Constructor\]$/,i=Object.prototype,a=Function.prototype.toString,u=i.toString,l=RegExp("^"+n(u).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return t}),define("lodash-amd/modern/lang/isObject",[],function(){function n(n){var e=typeof n;return"function"==e||n&&"object"==e||!1}return n}),define("lodash-amd/modern/lang/isArguments",["../internal/isLength","../internal/isObjectLike"],function(n,e){function t(t){var i=e(t)?t.length:r;return n(i)&&a.call(t)==o||!1}var r,o="[object Arguments]",i=Object.prototype,a=i.toString;return t}),define("lodash-amd/modern/lang/isArray",["../internal/isLength","./isNative","../internal/isObjectLike"],function(n,e,t){var r="[object Array]",o=Object.prototype,i=o.toString,a=e(a=Array.isArray)&&a,u=a||function(e){return t(e)&&n(e.length)&&i.call(e)==r||!1};return u}),define("lodash-amd/modern/internal/isIndex",[],function(){function n(n,t){return n=+n,t=null==t?e:t,n>-1&&n%1==0&&t>n}var e=Math.pow(2,53)-1;return n}),define("lodash-amd/modern/internal/root",[],function(){var n={"function":!0,object:!0},e=n[typeof exports]&&exports&&!exports.nodeType&&exports,t=n[typeof module]&&module&&!module.nodeType&&module,r=e&&t&&"object"==typeof global&&global,o=n[typeof window]&&window,i=r||o!==(this&&this.window)&&o||this;return i}),define("lodash-amd/modern/support",["./lang/isNative","./internal/root"],function(n,e){var t=/\bthis\b/,r=Object.prototype,o=(o=e.window)&&o.document,i=r.propertyIsEnumerable,a={};return function(){a.funcDecomp=!n(e.WinRTError)&&t.test(function(){return this}),a.funcNames="string"==typeof Function.name;try{a.dom=11===o.createDocumentFragment().nodeType}catch(r){a.dom=!1}try{a.nonEnumArgs=!i.call(arguments,1)}catch(r){a.nonEnumArgs=!0}}(0,0),a}),define("lodash-amd/modern/object/keysIn",["../lang/isArguments","../lang/isArray","../internal/isIndex","../internal/isLength","../lang/isObject","../support"],function(n,e,t,r,o,i){function a(a){if(null==a)return[];o(a)||(a=Object(a));var u=a.length;u=u&&r(u)&&(e(a)||i.nonEnumArgs&&n(a))&&u||0;for(var c=a.constructor,s=-1,d="function"==typeof c&&c.prototype===a,f=Array(u),p=u>0;++s<u;)f[s]=s+"";for(var m in a)p&&t(m,u)||"constructor"==m&&(d||!l.call(a,m))||f.push(m);return f}var u=Object.prototype,l=u.hasOwnProperty;return a}),define("lodash-amd/modern/internal/shimKeys",["../lang/isArguments","../lang/isArray","./isIndex","./isLength","../object/keysIn","../support"],function(n,e,t,r,o,i){function a(a){for(var u=o(a),c=u.length,s=c&&a.length,d=s&&r(s)&&(e(a)||i.nonEnumArgs&&n(a)),f=-1,p=[];++f<c;){var m=u[f];(d&&t(m,s)||l.call(a,m))&&p.push(m)}return p}var u=Object.prototype,l=u.hasOwnProperty;return a}),define("lodash-amd/modern/object/keys",["../internal/isLength","../lang/isNative","../lang/isObject","../internal/shimKeys"],function(n,e,t,r){var o=e(o=Object.keys)&&o,i=o?function(e){if(e)var i=e.constructor,a=e.length;return"function"==typeof i&&i.prototype===e||"function"!=typeof e&&a&&n(a)?r(e):t(e)?o(e):[]}:r;return i}),define("lodash-amd/modern/object/values",["../internal/baseValues","./keys"],function(n,e){function t(t){return n(t,e(t))}return t}),define("lodash-amd/modern/lang/toArray",["../internal/arrayCopy","../internal/isLength","../object/values"],function(n,e,t){function r(r){var o=r?r.length:0;return e(o)?o?n(r):[]:t(r)}return r}),define("constants",[],function(){return{openDoubleCurly:"“",closeDoubleCurly:"”",openSingleCurly:"‘",closeSingleCurly:"’"}}),define("formatters",["./constants"],function(n){function e(n){return/[^\s()]/.test(n)}function t(n,t){return function(r,o){o=o||"";var i=e(o);return i?o+t:o+n}}function r(e){if(/['"]/.test(e)){var o=e.replace(/([\s\S])?'/,t(n.openSingleCurly,n.closeSingleCurly)).replace(/([\s\S])?"/,t(n.openDoubleCurly,n.closeDoubleCurly));return r(o)}return e}return{convert:r}}),define("scribe-plugin-curly-quotes",["lodash-amd/modern/lang/toArray","./constants","./formatters"],function(n,e,t){return function(){return function(e){function r(n){var e=document.createElement("div");return e.innerHTML=n,o(e,function(n,e){var r=(n+e).split(/(<[^>]+?>(?:.*<\/[^>]+?>)?)/);return r.map(function(n){return/^</.test(n)?n:t.convert(n)}).join("").slice(n.length)}),e.innerHTML}function o(e,t){var r=n(e.children).filter(u.isBlockElement);r.length?r.forEach(function(n){o(n,t)}):i(e,t)}function i(n,e){for(var t=document.createTreeWalker(n,NodeFilter.SHOW_TEXT),r=t.firstChild(),o="";r;)r.previousSibling&&"BR"===r.previousSibling.nodeName&&(o=""),r.data=e(o,r.data),o+=r.data,r=t.nextSibling()}var a,u=e.node;e.el.addEventListener("keypress",function(n){var e={34:'"',39:"'"};a=e[n.charCode]}),e.el.addEventListener("input",function(){if(a){var n=new e.api.Selection,t=e.allowsBlockElements()?n.getContaining(u.isBlockElement):e.el;n.placeMarkers(),t.innerHTML=r(t.innerHTML),n.selectMarkers(),a=void 0}}),e.registerHTMLFormatter("normalize",r)}}});
//# sourceMappingURL=scribe-plugin-curly-quotes.min.js.map