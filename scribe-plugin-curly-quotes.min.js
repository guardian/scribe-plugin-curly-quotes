define("scribe-plugin-curly-quotes",[],function(){return function(){var e="“",n="”",r="‘",t="’";return function(i){function u(e){return/[^\s()]/.test(e)}function a(i){var u=document.createElement("div");return u.innerHTML=i,c(u,function(i){var u=i.split(/(<[^>]+?>)/);return u.map(function(i){return"<"===i[0]?i:i.replace(/([\s\S])?'([\s\S])?/g,o(r,t)).replace(/([\s\S])?"([\s\S])?/g,o(e,n))}).join("")}),u.innerHTML}function o(e,n){return function(r,t,i){t=t||"",i=i||"";var a=!t,o=!i,c=u(t),s=u(i);return c||a&&!s&&!o?t+n+i:t+e+i}}function c(e,n){var r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),t=r.firstChild();if(t)do t.data=n(t.data);while(t=r.nextSibling());return t}var s,f={34:'"',39:"'"};i.el.addEventListener("keypress",function(e){s=f[e.charCode]}),i.el.addEventListener("input",function(){if(s){var e=new i.api.Selection,n=e.getContaining(function(e){return"P"===e.nodeName});e.placeMarkers(),n.innerHTML=a(n.innerHTML),e.selectMarkers(),s=void 0}}),i.registerHTMLFormatter("normalize",a)}}});//# sourceMappingURL=scribe-plugin-curly-quotes.min.js.map