define("scribe-plugin-curly-quotes",[],function(){return function(){var e={34:'"',39:"'"},n="“",t="”",r="‘",o="’",i=" ";return function(a){function s(i){var s,u=e[i.charCode];'"'===u?s=c()?t:n:"'"===u&&(s=c()?o:r),s&&(i.preventDefault(),a.transactionManager.run(function(){var e=l(s);d(e)}))}function c(){var e=u();return" "!==e&&e!==i&&"undefined"!=typeof e}function u(){var e=new a.api.Selection,n=e.range.commonAncestorContainer.textContent;return n[e.range.startOffset-1]}function l(e){var n=document.createTextNode(e),t=new a.api.Selection;return t.range.deleteContents(),t.range.insertNode(n),n}function d(e){var n=document.createRange();n.setStartAfter(e),n.setEndAfter(e);var t=new a.api.Selection;t.selection.removeAllRanges(),t.selection.addRange(n)}function f(e){var i=document.createElement("div");return i.innerHTML=e,m(i,function(e){return e.replace(/([\s\S])?'([\s\S])?/g,p(r,o)).replace(/([\s\S])?"([\s\S])?/g,p(n,t))}),i.innerHTML}function p(e,n){return function(t,r,o){r=r||"",o=o||"";var i=!r,a=!o,s=/[^\s]/.test(r),c=/[^\s]/.test(o);return s||i&&!c&&!a?r+n+o:r+e+o}}function m(e,n){var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),r=t.firstChild();if(r)do r.data=n(r.data);while(r=t.nextSibling());return r}a.el.addEventListener("keypress",s),a.htmlFormatter.formatters.push(f)}}});//# sourceMappingURL=scribe-plugin-curly-quotes.min.js.map