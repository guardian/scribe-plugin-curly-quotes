define("scribe-plugin-curly-quotes",[],function(){return function(){var e={34:'"',39:"'"},n="“",t="”",r="‘",o="’";return function(i){function a(a){var c,u=e[a.charCode];'"'===u?c=s()?t:n:"'"===u&&(c=s()?o:r),c&&(a.preventDefault(),i.transactionManager.run(function(){var e=l(c);d(e)}))}function s(){var e=c()||"";return u(e)}function c(){var e=new i.api.Selection,n=e.range.commonAncestorContainer.textContent;return n[e.range.startOffset-1]}function u(e){return/[^\s()]/.test(e)}function l(e){var n=document.createTextNode(e),t=new i.api.Selection;return t.range.deleteContents(),t.range.insertNode(n),n}function d(e){var n=document.createRange();n.setStartAfter(e),n.setEndAfter(e);var t=new i.api.Selection;t.selection.removeAllRanges(),t.selection.addRange(n)}function f(e){var i=document.createElement("div");return i.innerHTML=e,p(i,function(e){var i=e.split(/(<[^>]+?>)/);return i.map(function(e){return"<"===e[0]?e:e.replace(/([\s\S])?'([\s\S])?/g,m(r,o)).replace(/([\s\S])?"([\s\S])?/g,m(n,t))}).join("")}),i.innerHTML}function m(e,n){return function(t,r,o){r=r||"",o=o||"";var i=!r,a=!o,s=u(r),c=u(o);return s||i&&!c&&!a?r+n+o:r+e+o}}function p(e,n){var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),r=t.firstChild();if(r)do r.data=n(r.data);while(r=t.nextSibling());return r}i.el.addEventListener("keypress",a),i.registerHTMLFormatter("normalize",f)}}});//# sourceMappingURL=scribe-plugin-curly-quotes.min.js.map