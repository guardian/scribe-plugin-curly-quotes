define("scribe-plugin-curly-quotes",[],function(){return function(){var e={34:'"',39:"'"},n="“",t="”",r="‘",a="’";return function(i){function o(o){var u,s=e[o.charCode];'"'===s?u=c()?t:n:"'"===s&&(u=c()?a:r),u&&(o.preventDefault(),i.transactionManager.run(function(){var e=f(u);l(e)}))}function c(){var e=u()||"";return s(e)}function u(){var e=new i.api.Selection,n=e.range.commonAncestorContainer.textContent;return n[e.range.startOffset-1]}function s(e){return/[^\s()]/.test(e)}function f(e){var n=document.createTextNode(e),t=new i.api.Selection;return t.range.deleteContents(),t.range.insertNode(n),n}function l(e){var n=document.createRange();n.setStartAfter(e),n.setEndAfter(e);var t=new i.api.Selection;t.selection.removeAllRanges(),t.selection.addRange(n)}function d(e){var i=document.createElement("div");return i.innerHTML=e,g(i,function(e){var i=e.split(/(<[^>]+?>)/);return i.map(function(e){return"<"===e[0]?e:e.replace(/([\s\S])?'([\s\S])?/g,v(r,a)).replace(/([\s\S])?"([\s\S])?/g,v(n,t))}).join("")}),i.innerHTML}function v(e,n){return function(t,r,a){r=r||"",a=a||"";var i=!r,o=!a,c=s(r),u=s(a);return c||i&&!u&&!o?r+n+a:r+e+a}}function g(e,n){var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),r=t.firstChild();if(r)do r.data=n(r.data);while(r=t.nextSibling());return r}i.el.addEventListener("keypress",o),i.registerHTMLFormatter("normalize",d)}}});//# sourceMappingURL=scribe-plugin-curly-quotes.min.js.map